# Example program
# factorial

fact {
    # peek and compare to zero
    br {
        . x ;     # pop into x
        1 x - ;   # push a copy and subtract 1 from it
        fact ;    # call factorial
        x * ;     # multiply whatever our factorial is by x
    }
    el {
        # pop off to nothing, and push a 1
        .;
        1;
    }
}

square {
    dup *;
}

dup {
    . x;
    x x;
}

main {
    0;
    1 fact;
    2 fact;
    3 fact;
    4 fact;
    5 fact;
    loop {
        print '\n print;
    }

    1 square;
    2 square;
    3 square;
    4 square;
    5 square;
    loop {
        print '\n print;
    }

    '\n 'o 'l 'l 'e 'h;
    loop {
        print;
    }
    "world!\n" print;
}
